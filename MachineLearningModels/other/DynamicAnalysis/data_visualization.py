import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import warnings
warnings.filterwarnings("ignore")


df = pd.read_csv('apk_dataset.csv', names=['APK Name', 'SHA Key', 'Timestamp', 'Malware Label', 'Frequency of System Calls', 'Count of DNS requests', 'Count of outbound connections', 'Domains/IPs contacted', 'Data volume sent', 'Data volume received', 'Number of files created', 'Number of files read', 'Number of files deleted', 'Process spawning', 'Loaded DLLs', 'Intents sent', 'Intents received', 'Checks for root privileges', 'Camera access frequency', 'Microphone access frequency', 'GPS query frequency', 'Frequency of cryptographic API calls', 'Autostart entries created', 'CPU usage patterns', 'Memory usage patterns'])

# Tried to create some data visualizations that could be helpful in  modelling but the results weren't of use since I
# was using dummy data. Plotting the histogram for malware vs. benign APKs

sns.countplot(x='Malware Label', data=df)
plt.title('Distribution of Malware vs. Benign APKs')
plt.show()

data = pd.read_csv('apk_dataset.csv')

# For Frequency of System Calls
sns.distplot(data[data['Malware Label'] == 0]['Frequency of System Calls'], label='Benign')
sns.distplot(data[data['Malware Label'] == 1]['Frequency of System Calls'], label='Malware')
plt.legend()
plt.show()

# For CPU usage patterns
sns.boxplot(x='Malware Label', y='CPU usage patterns', data=data)
plt.show()

sns.scatterplot(x='Frequency of System Calls', y='Data volume sent', hue='Malware Label', data=data)
plt.show()


# For Camera access frequency
avg_camera_access = data.groupby('Malware Label')['Camera access frequency'].mean()
avg_camera_access.plot(kind='bar')
plt.show()
