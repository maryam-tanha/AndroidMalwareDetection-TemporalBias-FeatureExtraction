import requests
from dotenv import load_dotenv
import os

load_dotenv()
androzoo_api_key = os.getenv('ANDROZOO_API_KEY')
sha256_hash = "0000003B455A6C7AF837EF90F2EAFFD856E3B5CF49F5E27191430328DE2FA670"
package_name = "com.zte.bamachaye"

# create the folder to save the downloaded APK file
apk_folder = os.path.join(os.getcwd(), "DownloadedSpecificAPK")
os.makedirs(apk_folder, exist_ok=True)

# Make a GET request to the AndroZoo HTTP API to download the APK file
androzoo_endpoint = "https://androzoo.uni.lu/api/download"
response = requests.get(androzoo_endpoint, params={"apikey": androzoo_api_key, "sha256": sha256_hash})

# Save the APK file to disk
apk_file_path = os.path.join(apk_folder, f"{package_name}.apk")
with open(apk_file_path, "wb") as f:
    f.write(response.content)

print(f"APK downloaded and saved to {apk_file_path}")

